<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! Project home: https://github.com/jaxio/celerio-angular-quickstart
 ! 
 ! Source code generated by Celerio, an Open Source code generator by Jaxio.
 ! Documentation: http://www.jaxio.com/documentation/celerio/
 ! Modificado por CARLOS BAZALAR
 ! Email: cbazalarlarosa@gmail.com
 ! Template pack-angular:src/main/java/mapper/EntityXMLMapper.xml.e.vm
-->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.incloud.hcp.mapper.MigCertificadoMapper">

<resultMap id="migCertificadoResultMap" type="com.incloud.hcp.domain.MigCertificado">
	<id property="id" jdbcType="INTEGER" column="mig_certificado_id" />
	<result property="nroPedido" jdbcType="VARCHAR" column="nro_pedido" />	
	<result property="codigoCertificado" jdbcType="VARCHAR" column="codigo_certificado" />	
	<result property="concepto" jdbcType="VARCHAR" column="concepto" />	
	<result property="fechaDesde" jdbcType="TIMESTAMP" column="fecha_desde" />
	<result property="fechaHasta" jdbcType="TIMESTAMP" column="fecha_hasta" />
	<result property="montoTotal" jdbcType="NUMERIC" column="monto_total" />
	<result property="montoTotalAjustado" jdbcType="NUMERIC" column="monto_total_ajustado" />
	<result property="hojaServicio" jdbcType="VARCHAR" column="hoja_servicio" />	
	<result property="userFirmaA" jdbcType="VARCHAR" column="user_firma_a" />	
	<result property="userFirmaB" jdbcType="VARCHAR" column="user_firma_b" />	
	<result property="solicitante" jdbcType="VARCHAR" column="solicitante" />	
	<result property="sociedad" jdbcType="VARCHAR" column="sociedad" />	
	<result property="moneda" jdbcType="VARCHAR" column="moneda" />	
	<result property="proveedor" jdbcType="VARCHAR" column="proveedor" />	
</resultMap>


<select id="getLista" parameterType="com.incloud.hcp.domain.MigCertificado" resultMap="migCertificadoResultMap">
	SELECT 
      mig_certificado_id , 
      nro_pedido , 
      codigo_certificado , 
      concepto , 
      fecha_desde , 
      fecha_hasta , 
      monto_total , 
      monto_total_ajustado , 
      hoja_servicio , 
      user_firma_a , 
      user_firma_b , 
      solicitante , 
      sociedad , 
      moneda , 
      proveedor 
	FROM
	mig_certificado
	WHERE 1 = 1
	<if test="id != null ">
		AND mig_certificado_id = #{id, jdbcType=INTEGER}
	</if>	
	<if test="nroPedido != null and nroPedido != '' ">
		AND nro_pedido = #{nroPedido}
	</if>	
	<if test="codigoCertificado != null and codigoCertificado != '' ">
		AND codigo_certificado = #{codigoCertificado}
	</if>	
	<if test="concepto != null and concepto != '' ">
		AND concepto = #{concepto}
	</if>	
	<if test="fechaDesde != null ">
		AND fecha_desde = #{fechaDesde, jdbcType=DATE}
	</if>
	<if test="fechaHasta != null ">
		AND fecha_hasta = #{fechaHasta, jdbcType=DATE}
	</if>
	<if test="montoTotal != null ">
		AND monto_total = #{montoTotal, jdbcType=NUMERIC}
	</if>	
	<if test="montoTotalAjustado != null ">
		AND monto_total_ajustado = #{montoTotalAjustado, jdbcType=NUMERIC}
	</if>	
	<if test="hojaServicio != null and hojaServicio != '' ">
		AND hoja_servicio = #{hojaServicio}
	</if>	
	<if test="userFirmaA != null and userFirmaA != '' ">
		AND user_firma_a = #{userFirmaA}
	</if>	
	<if test="userFirmaB != null and userFirmaB != '' ">
		AND user_firma_b = #{userFirmaB}
	</if>	
	<if test="solicitante != null and solicitante != '' ">
		AND solicitante = #{solicitante}
	</if>	
	<if test="sociedad != null and sociedad != '' ">
		AND sociedad = #{sociedad}
	</if>	
	<if test="moneda != null and moneda != '' ">
		AND moneda = #{moneda}
	</if>	
	<if test="proveedor != null and proveedor != '' ">
		AND proveedor = #{proveedor}
	</if>	
</select>

<insert id="insertBean" >
INSERT INTO  mig_certificado(
mig_certificado_id , 
nro_pedido , 
codigo_certificado , 
concepto , 
fecha_desde , 
fecha_hasta , 
monto_total , 
monto_total_ajustado , 
hoja_servicio , 
user_firma_a , 
user_firma_b , 
solicitante , 
sociedad , 
moneda , 
proveedor 
)
VALUES
(
#{id} , 
#{nroPedido} , 
#{codigoCertificado} , 
#{concepto} , 
#{fechaDesde} , 
#{fechaHasta} , 
#{montoTotal} , 
#{montoTotalAjustado} , 
#{hojaServicio} , 
#{userFirmaA} , 
#{userFirmaB} , 
#{solicitante} , 
#{sociedad} , 
#{moneda} , 
#{proveedor} 
)

</insert>

<insert id="insertMap" parameterType="java.util.Map" >
INSERT INTO  mig_certificado(
mig_certificado_id , 
nro_pedido , 
codigo_certificado , 
concepto , 
fecha_desde , 
fecha_hasta , 
monto_total , 
monto_total_ajustado , 
hoja_servicio , 
user_firma_a , 
user_firma_b , 
solicitante , 
sociedad , 
moneda , 
proveedor 
)
(
<foreach collection="list" item="element" index="index" separator=" UNION ">  
SELECT
#{element.id} , 
#{element.nroPedido} , 
#{element.codigoCertificado} , 
#{element.concepto} , 
#{element.fechaDesde} , 
#{element.fechaHasta} , 
#{element.montoTotal} , 
#{element.montoTotalAjustado} , 
#{element.hojaServicio} , 
#{element.userFirmaA} , 
#{element.userFirmaB} , 
#{element.solicitante} , 
#{element.sociedad} , 
#{element.moneda} , 
#{element.proveedor} 
from dual

</foreach>    
)

</insert>


<update id="updateBean">
    UPDATE mig_certificado
    <set>
	<if test="nroPedido != null and nroPedido != '' ">
		nro_pedido = #{nroPedido},
	</if>	
	<if test="codigoCertificado != null and codigoCertificado != '' ">
		codigo_certificado = #{codigoCertificado},
	</if>	
	<if test="concepto != null and concepto != '' ">
		concepto = #{concepto},
	</if>	
	<if test="fechaDesde != null ">
		fecha_desde = #{fechaDesde, jdbcType=DATE},
	</if>	
	<if test="fechaHasta != null ">
		fecha_hasta = #{fechaHasta, jdbcType=DATE},
	</if>	
	<if test="montoTotal != null ">
		monto_total = #{montoTotal, jdbcType=NUMERIC},
	</if>	
	<if test="montoTotalAjustado != null ">
		monto_total_ajustado = #{montoTotalAjustado, jdbcType=NUMERIC},
	</if>	
	<if test="hojaServicio != null and hojaServicio != '' ">
		hoja_servicio = #{hojaServicio},
	</if>	
	<if test="userFirmaA != null and userFirmaA != '' ">
		user_firma_a = #{userFirmaA},
	</if>	
	<if test="userFirmaB != null and userFirmaB != '' ">
		user_firma_b = #{userFirmaB},
	</if>	
	<if test="solicitante != null and solicitante != '' ">
		solicitante = #{solicitante},
	</if>	
	<if test="sociedad != null and sociedad != '' ">
		sociedad = #{sociedad},
	</if>	
	<if test="moneda != null and moneda != '' ">
		moneda = #{moneda},
	</if>	
	<if test="proveedor != null and proveedor != '' ">
		proveedor = #{proveedor},
	</if>	
    </set> 
	WHERE 
	  mig_certificado_id = #{id, jdbcType=INTEGER}	
</update>


<delete id="deleteBean">
    DELETE FROM mig_certificado
	WHERE 1 = 1
	<if test="id != null ">
		AND mig_certificado_id = #{id, jdbcType=INTEGER}
	</if>	
	<if test="nroPedido != null and nroPedido != '' ">
		AND nro_pedido = #{nroPedido}
	</if>	
	<if test="codigoCertificado != null and codigoCertificado != '' ">
		AND codigo_certificado = #{codigoCertificado}
	</if>	
	<if test="concepto != null and concepto != '' ">
		AND concepto = #{concepto}
	</if>	
	<if test="fechaDesde != null ">
		AND fecha_desde = #{fechaDesde, jdbcType=DATE}
	</if>	
	<if test="fechaHasta != null ">
		AND fecha_hasta = #{fechaHasta, jdbcType=DATE}
	</if>	
	<if test="montoTotal != null ">
		AND monto_total = #{montoTotal, jdbcType=NUMERIC}
	</if>	
	<if test="montoTotalAjustado != null ">
		AND monto_total_ajustado = #{montoTotalAjustado, jdbcType=NUMERIC}
	</if>	
	<if test="hojaServicio != null and hojaServicio != '' ">
		AND hoja_servicio = #{hojaServicio}
	</if>	
	<if test="userFirmaA != null and userFirmaA != '' ">
		AND user_firma_a = #{userFirmaA}
	</if>	
	<if test="userFirmaB != null and userFirmaB != '' ">
		AND user_firma_b = #{userFirmaB}
	</if>	
	<if test="solicitante != null and solicitante != '' ">
		AND solicitante = #{solicitante}
	</if>	
	<if test="sociedad != null and sociedad != '' ">
		AND sociedad = #{sociedad}
	</if>	
	<if test="moneda != null and moneda != '' ">
		AND moneda = #{moneda}
	</if>	
	<if test="proveedor != null and proveedor != '' ">
		AND proveedor = #{proveedor}
	</if>	
</delete>

<delete id="deleteAll">
   DELETE FROM mig_certificado
</delete>

</mapper>
<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! Project home: https://github.com/jaxio/celerio-angular-quickstart
 !
 ! Source code generated by Celerio, an Open Source code generator by Jaxio.
 ! Documentation: http://www.jaxio.com/documentation/celerio/
 ! Modificado por CARLOS BAZALAR
 ! Email: cbazalarlarosa@gmail.com
 ! Template pack-angular:src/main/java/mapper/EntityXMLMapper.xml.e.vm
-->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.incloud.hcp.mapper.MtrProveedorMapper">

	<resultMap id="mtrProveedorResultMap" type="com.incloud.hcp.domain.MtrProveedor">
		<id property="id" jdbcType="INTEGER" column="mtr_proveedor_id" />
		<result property="ruc" jdbcType="VARCHAR" column="ruc" />
		<result property="razonSocial" jdbcType="VARCHAR" column="razon_social" />
		<result property="direccion" jdbcType="VARCHAR" column="direccion" />
		<result property="emailContacto" jdbcType="VARCHAR" column="email_contacto" />
		<result property="codigoIdp" jdbcType="VARCHAR" column="codigo_idp" />
		<result property="lifnr" jdbcType="VARCHAR" column="lifnr" />
	</resultMap>


	<select id="getLista" parameterType="com.incloud.hcp.domain.MtrProveedor" resultMap="mtrProveedorResultMap">
		SELECT
		mtr_proveedor_id ,
		ruc ,
		razon_social ,
		direccion ,
		email_contacto ,
		codigo_idp
		FROM
		mtr_proveedor
		WHERE 1 = 1
		<if test="id != null ">
			AND mtr_proveedor_id = #{id, jdbcType=INTEGER}
		</if>
		<if test="ruc != null and ruc != '' ">
			AND ruc = #{ruc}
		</if>
		<if test="razonSocial != null and razonSocial != '' ">
			AND razon_social = #{razonSocial}
		</if>
		<if test="direccion != null and direccion != '' ">
			AND direccion = #{direccion}
		</if>
		<if test="emailContacto != null and emailContacto != '' ">
			AND email_contacto = #{emailContacto}
		</if>
		<if test="codigoIdp != null and codigoIdp != '' ">
			AND codigo_idp = #{codigoIdp}
		</if>
	</select>
	<select id="listaCreacionProveedor" parameterType="com.incloud.hcp.domain.MtrProveedor" resultMap="mtrProveedorResultMap">
		SELECT
		mtr_proveedor_id ,
		ruc ,
		razon_social ,
		direccion ,
		email_contacto ,
		codigo_idp ,
		lifnr
		FROM
		mtr_proveedor
		WHERE 1 = 1 AND ( length(codigo_idp) = 0 or codigo_idp is null )

	</select>
	<select id="findAllByCodesSap" parameterType="com.incloud.hcp.domain.MtrProveedor" resultMap="mtrProveedorResultMap">
		SELECT
		mtr_proveedor_id ,
		ruc ,
		razon_social ,
		direccion ,
		email_contacto ,
		codigo_idp
		FROM
		mtr_proveedor
		WHERE 1 = 1

		<if test="codes != null and codes != '' ">
			AND ruc = IN (#{codes, jdbcType=VARCHAR})
		</if>

	</select>
	<insert id="insertBean" >
INSERT INTO  mtr_proveedor(
mtr_proveedor_id ,
ruc ,
razon_social ,
direccion ,
email_contacto ,
codigo_idp
)
VALUES
(
#{id} ,
#{ruc} ,
#{razonSocial} ,
#{direccion} ,
#{emailContacto} ,
#{codigoIdp}
)

</insert>

	<insert id="insertMap" parameterType="java.util.Map" >
		INSERT INTO  mtr_proveedor(
		mtr_proveedor_id ,
		ruc ,
		razon_social ,
		direccion ,
		email_contacto ,
		codigo_idp
		)
		(
		<foreach collection="list" item="element" index="index" separator=" UNION ">
			SELECT
			#{element.id} ,
			#{element.ruc} ,
			#{element.razonSocial} ,
			#{element.direccion} ,
			#{element.emailContacto} ,
			#{element.codigoIdp}
			from dual

		</foreach>
		)

	</insert>


	<update id="updateBean">
		UPDATE mtr_proveedor
		<set>
			<if test="ruc != null and ruc != '' ">
				ruc = #{ruc},
			</if>
			<if test="razonSocial != null and razonSocial != '' ">
				razon_social = #{razonSocial},
			</if>
			<if test="direccion != null and direccion != '' ">
				direccion = #{direccion},
			</if>
			<if test="emailContacto != null and emailContacto != '' ">
				email_contacto = #{emailContacto},
			</if>
			<if test="codigoIdp != null and codigoIdp != '' ">
				codigo_idp = #{codigoIdp},
			</if>
		</set>
		WHERE
		mtr_proveedor_id = #{id, jdbcType=INTEGER}
	</update>


	<delete id="deleteBean">
		DELETE FROM mtr_proveedor
		WHERE 1 = 1
		<if test="id != null ">
			AND mtr_proveedor_id = #{id, jdbcType=INTEGER}
		</if>
		<if test="ruc != null and ruc != '' ">
			AND ruc = #{ruc}
		</if>
		<if test="razonSocial != null and razonSocial != '' ">
			AND razon_social = #{razonSocial}
		</if>
		<if test="direccion != null and direccion != '' ">
			AND direccion = #{direccion}
		</if>
		<if test="emailContacto != null and emailContacto != '' ">
			AND email_contacto = #{emailContacto}
		</if>
		<if test="codigoIdp != null and codigoIdp != '' ">
			AND codigo_idp = #{codigoIdp}
		</if>
	</delete>

	<delete id="deleteAll">
   DELETE FROM mtr_proveedor
</delete>

</mapper>
/*
 * Project home: https://github.com/jaxio/celerio-angular-quickstart
 * 
 * Source code generated by Celerio, an Open Source code generator by Jaxio.
 * Documentation: http://www.jaxio.com/documentation/celerio/
 * Modificado por CARLOS BAZALAR
 * Email: cbazalarlarosa@gmail.com
 * Template pack-angular:src/main/java/repository/EntitydeltaRepository.java.e.vm
 */
package com.incloud.hcp.repository.delta;

import com.incloud.hcp.domain.MtrInformacionNoticia;
import com.incloud.hcp.domain.MtrTipoInformacionNoticia;
import com.incloud.hcp.repository.MtrInformacionNoticiaRepository;
import org.springframework.data.jpa.repository.Query;

import java.util.List;

public interface MtrInformacionNoticiaDeltaRepository extends MtrInformacionNoticiaRepository {

    List<MtrInformacionNoticia> findByMtrTipoInformacionNoticia(MtrTipoInformacionNoticia tipoInformacionNoticia);

    @Query("select i from MtrInformacionNoticia i where LOWER(i.titulo) = LOWER(?1) and i.mtrTipoInformacionNoticia.id = ?2")
    List<MtrInformacionNoticia> findByTituloTipo(String titulo, Integer id);

    @Query("select i from MtrInformacionNoticia i where i.id <> ?1 and LOWER(i.titulo) = LOWER(?2)")
    List<MtrInformacionNoticia> findByTituloById(Integer id, String titulo);

}
